<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="4cb730b3-b33e-4582-8550-ca112aa33a87" discardOkResults="false" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="FED-10" searchProperties="true" timeout="0" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="bf638944-ac96-4784-977e-8a8fdc38863afileName">TestCase-1</con:setting><con:setting id="4cb730b3-b33e-4582-8550-ca112aa33a87fileName">FED-10</con:setting><con:setting id="IncludeOverview">true</con:setting><con:setting id="IncludeResults">true</con:setting><con:setting id="FlowLayout">false</con:setting><con:setting id="ErrorDetails">true</con:setting><con:setting id="IncludeCoverage">true</con:setting></con:settings><con:savedRecentRuns>1</con:savedRecentRuns><con:testStep type="properties" name="Prop2" id="2ec94f5e-5ab8-482e-9817-18eb1d611d2c"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>GroovyR</con:name><con:value>5</con:value></con:property><con:property><con:name>Exec_ID</con:name><con:value>1205</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="datasource" name="DataSource" id="36fea8b7-781b-4c53-a7fd-549bcc94226b"><con:settings/><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="Excel"><con:configuration><file>C:/Jenkins/workspace/PCF-Items-API_Test/SOAPUI_TestData.xlsx</file><worksheet>GenRocket</worksheet><cell>A1</cell><ignoreEmpty>true</ignoreEmpty><evaluateFormulas>false</evaluateFormulas></con:configuration></con:dataSource><con:shared>true</con:shared><con:restartShared>true</con:restartShared><con:property>itemId</con:property><con:property>quantity</con:property><con:property>zipCode</con:property><con:startRow>0</con:startRow><con:endRow/><con:recordsPerIteration>1</con:recordsPerIteration><con:completeLastOperation>true</con:completeLastOperation><con:trimValues>false</con:trimValues><con:entitizeValues>false</con:entitizeValues><con:restartOnRun>true</con:restartOnRun><con:expandProperties>false</con:expandProperties></con:config></con:testStep><con:testStep type="restrequest" name="ItemAvailability_TS" id="f60265e5-d166-4164-a8c5-58626c8e1272"><con:settings/><con:config service="Items_Definition" resourcePath="/itemavailability/{itemId}/{zipCode}/{quantity}" methodName="getItemAvailabilityUsingGET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="ItemAvailability_TS" id="369dc9cb-1575-4681-a40f-2f47cd1659f9" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://items-api.cfapps.io</con:endpoint><con:request/><con:originalUri>http://items-api.cfapps.io/itemavailability/wq/21123/1</con:originalUri><con:credentials><con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="itemId" value="${DataSource#itemId}"/>
  <con:entry key="zipCode" value="${DataSource#zipCode}"/>
  <con:entry key="quantity" value="${DataSource#quantity}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="dc5d552c-058d-479e-849f-2e3f2667e20f"><con:settings/><con:config><script>//def responseTime = testRunner.testCase.testSteps["GetAllProducts_P"].testRequest.response.getTimeTaken();
log.info "Time taken " + testRunner.testCase.testSteps["ItemAvailability_TS"].testRequest.response.timeTaken
def r= testRunner.testCase.testSteps["ItemAvailability_TS"].testRequest.response.timeTaken
log.info r
//testRunner.testCase.setPropertyValue( "MyProp", someValue )
//def projectProperty = testRunner.testCase.testSuite.project.getPropertyValue( "MyProp" )
//log.info projectProperty
//testRunner.testCase.testSteps["Properties"].setPropertyValue( "x", "5" )
//log.info x

context.r = testRunner.testCase.testSteps["ItemAvailability_TS"].testRequest.response.timeTaken
context.testCase.testSteps["Prop2"].setPropertyValue("GroovyR", "5");
</script></con:config></con:testStep><con:testStep type="datasourceloop" name="DataSource Loop" id="235b5407-f6f1-44cc-9226-de7d7645f8a3"><con:settings/><con:config><dataSourceStep>DataSource</dataSourceStep><targetStep>ItemAvailability_TS</targetStep><discardResults>true</discardResults></con:config></con:testStep><con:testStep type="datasink" name="DataSink" id="e4a959b0-4c72-4a6e-8b2f-3d508a174aa8"><con:settings/><con:config xsi:type="con:DataSinkStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSink type="File"><con:configuration><fileName>C:/Jenkins/workspace/PCF-Items-API_Test/TestResults.csv</fileName><separator>,</separator><escape>"</escape><quote>true</quote><trim>true</trim><append>true</append><encoding>Cp1252</encoding></con:configuration></con:dataSink><con:properties><con:property><con:name>TCID</con:name><con:value>${=testRunner.testCase.name}</con:value></con:property><con:property><con:name>Itr_ID</con:name><con:value>${Prop2#Exec_ID}</con:value></con:property><con:property><con:name>TestCaseStatus</con:name><con:value>${ItemAvailability_TS#Response#$['status']}</con:value></con:property><con:property><con:name>Res</con:name><con:value>${r}</con:value></con:property></con:properties></con:config></con:testStep><con:properties><con:property><con:name>name</con:name><con:value>Hello</con:value></con:property></con:properties><con:reportParameters/><con:breakPoints><con:testStepId>d9fc3916-c994-4f26-b497-f3811ee20f1d</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>4da0dc95-58bf-4f19-beea-1aeaeffa3e65</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>0688b14d-314e-4671-b239-c3a89188eddb</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>e4a959b0-4c72-4a6e-8b2f-3d508a174aa8</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>36fea8b7-781b-4c53-a7fd-549bcc94226b</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>f60265e5-d166-4164-a8c5-58626c8e1272</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>235b5407-f6f1-44cc-9226-de7d7645f8a3</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>dc5d552c-058d-479e-849f-2e3f2667e20f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints></con:testCase>